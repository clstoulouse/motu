<?xml version="1.0"?>
<!DOCTYPE rdf:RDF [
<!ENTITY myoceanUrn "http://purl.org/myocean/ontology/service/database#">
]>
<!-- 
Motu Configuration Cartridge misgw - v. 1.0.5
--><!--
        =========================================================================================================== INFO: the complete XML schema
        (XSD) of this configuration file can be downloaded from:
        http://cls-motu.svn.sourceforge.net/viewvc/cls-motu/trunk/motu/motu-library/motu-library-misc/src/main/resources/schema/MotuConfig.xsd
        ===========================================================================================================
    --><!-- defaultService :
	The service name when no service are specified.
--><!-- useProxy :
	True if a proxy is used between Motu and the opendaps, false otherwise.
	Default value is false.
--><!-- proxyHost :
	Name of the proxy. Ignored if useProxy is false.
	Default value is proxy.cls.fr).
--><!-- proxyPort :
	Name of the proxy. Ignored if useProxy is false.
	Default value is 8080).
--><!-- dataBlockSize :
	The number for data in Ko that can be read in the same time.
--><!-- maxSizePerFile :
	The number for data in Megabytes that can be written and download 
	for a Netcdf file.
--><!-- extractionPath :
	The absolute path where to extract (write) files.
--><!-- downloadHttpUrl :
	Http virtual path corresponding to the attribute <extractionPath>.
--><!-- httpDocumentRoot :
	Document root of the servlet server.
--><!--
        cleanRequestInterval default="60" The waiting period admitted to keep the status response of an extraction data request. Value is stated in
        minutes. minInclusive value="1"
    --><!--
        cleanExtractionFileInterval default="60" The waiting period admitted to keep the file that results of an extraction data request. Value is
        stated in minutes. minInclusive value="1"
    --><!--
        extractionFilePatterns default=".*\.nc$|.*\.zip$|.*\.tar$|.*\.gz$"> Patterns (as regular expression) that match extraction file to delete.
    --><!--
        extractionFileCacheSize default="0" The maximum value allowed to the cache during extraction. Beyond this value, the older extracted files are
        quite frequently deleted until the maximum value is raised. The frequency corresponds to the runCleanInterval attribute. Value is stated in
        mega-bytes (Mo). Value must be positive or zero. If value is zero: no delete. minInclusive value="0"
    --><!--
        runCleanInterval default="1" The interval period to run clean request and extraction file. Value is stated in minutes. minInclusive value="1"
    --><!--
        runGCInterval default="0" The interval period to force run garbage collector Value is stated in minutes and must bue positive or zero. If
        value is zero: no force. minInclusive value="0"
    -->
<motuConfig defaultService="" useProxy="false" proxyHost="dp-vip.vlandata.cls.fr" proxyPort="8080" proxyLogin="" proxyPwd="" defaultActionIsListServices="true" useAuthentication="false" dataBlockSize="1024000" maxSizePerFile="1024" extractionPath="/datalocal/atoll/mis-gateway/deliveries" downloadHttpUrl="http://misgw-ddo-qt.cls.fr/mis-gateway/deliveries" httpDocumentRoot="http://misgw-ddo-qt.cls.fr" httpBaseRef="http://resources.myocean.eu" cleanExtractionFileInterval="60" cleanRequestInterval="60" runCleanInterval="15" extractionFilePatterns=".*\.nc$|.*\.zip$|.*\.tar$|.*\.gz$|.*\.extract$|wps_output_.*$|wps_response_.*$" extractionFileCacheSize="10000" runGCInterval="0">

	<!--======================================================================================-->
	<!--                  TDS Services (OpenDAP or NCSS)                   					  -->
	<!--======================================================================================-->	
	<!-- NCSS performance comparison products -->
	<configService defaultLanguage="UK" description="TEST_HR_MOD-TDS" group="TEST Performance" httpBaseRef="http://resources.myocean.eu" name="HR_MOD-TDS" veloTemplatePrefix="myocean" profiles="external">
		<catalog name="m_HR_MOD.xml" type="tds" ncss="enabled" urlSite="http://misgw-ddo-qt.cls.fr:61080/thredds/"/>
	</configService>	
	<configService defaultLanguage="UK" description="TEST_HR_OBS-TDS" group="TEST Performance" httpBaseRef="http://resources.myocean.eu" name="HR_OBS-TDS" veloTemplatePrefix="myocean" profiles="external">
		<catalog name="m_HR_OBS.xml" type="tds" urlSite="http://misgw-ddo-qt.cls.fr:61080/thredds/"/>
	</configService>	
	<configService defaultLanguage="UK" description="TEST_LR_MOD-TDS" group="TEST Performance" httpBaseRef="http://resources.myocean.eu" name="LR_MOD-TDS" veloTemplatePrefix="myocean" profiles="external">
		<catalog name="m_LR_MOD.xml" type="tds" ncss="enabled" urlSite="http://misgw-ddo-qt.cls.fr:61080/thredds/"/>
	</configService>
	<configService defaultLanguage="UK" description="TEST_LR_OBS-TDS" group="TEST Performance" httpBaseRef="http://resources.myocean.eu" name="LR_OBS-TDS" veloTemplatePrefix="myocean" profiles="external">
		<catalog name="m_LR_OBS.xml" type="tds" urlSite="http://misgw-ddo-qt.cls.fr:61080/thredds/"/>
	</configService>	
	
	<!--======================================================================================-->
	<!--                  DGF Services                             							  -->
	<!--======================================================================================-->

	<queueServerConfig maxPoolAnonymous="-1" maxPoolAuth="-1" defaultPriority="2">
		<queues id="queue1" description="light queue" batch="false">
			<maxThreads>2</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>75.0</dataThreshold>
			<lowPriorityWaiting>1</lowPriorityWaiting>
		</queues>
		<queues id="queue5" description="mid queue" batch="false">
			<maxThreads>2</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>300</dataThreshold>
			<lowPriorityWaiting>2</lowPriorityWaiting>
		</queues>
		<queues id="queue2" description="bulk queue" batch="false">
			<maxThreads>2</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>1024</dataThreshold>
			<lowPriorityWaiting>2</lowPriorityWaiting>
		</queues>
		<queues id="queue3" description="batch light queue" batch="true">
			<maxThreads>2</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>75.0</dataThreshold>
			<lowPriorityWaiting>1</lowPriorityWaiting>
		</queues>
		<queues id="queue6" description="batch mid queue" batch="true">
			<maxThreads>2</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>300</dataThreshold>
			<lowPriorityWaiting>2</lowPriorityWaiting>
		</queues>
		<queues id="queue4" description="batch bulk queue" batch="true">
			<maxThreads>2</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>1024</dataThreshold>
			<lowPriorityWaiting>2</lowPriorityWaiting>
		</queues>
	</queueServerConfig>
	<!-- =====================================  -->
	<!-- Customize servers (hosts)  configuration -->
	<!-- =====================================  -->

	<!-- for host "ftpsedr.cls.fr", user directory is the root directory : set ftpUserDirIsRoot to "true" -->
	<configFileSystem host="ftpsedr.cls.fr" ftpUserDirIsRoot="true"/>
</motuConfig>
