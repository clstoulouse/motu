<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE include [
<!ENTITY requestIdInputParametersOptional SYSTEM "../include/RequestIdInputParametersOptional.xml">
<!ENTITY commonBasicOutputParameters SYSTEM "../include/CommonBasicOutputParameters.xml">
]>
<ProcessDefinition configVersion="0.1.0"
	processVersion="1.0.0" statusSupported="false" storeSupported="false"
	xmlns="http://www.deegree.org/services/wps" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.deegree.org/services/wps http://schemas.deegree.org/wps/0.1.0/process_definition.xsd">
	
	<Identifier>Push</Identifier>
	<JavaClass>fr.cls.atoll.motu.processor.wps.Push</JavaClass>
	<Title>Data transfer</Title>
	<Abstract><![CDATA[The purpose of this process is to transfer data from a uri to another uri or to tranfer the result of an extraction request (identfied by its number) to a specific uri. 	  
	So, either the input uri or the request identifier have to be set as input parameter.
	
	Supported protocoled are ftp, sftp, file.
	The return values are the return process code (ok or error code) and the correponding message.
			
	URI formats are :
   		
   		ftp://host[:port]/directory/file
   		sftp://host[:port]/directory/file
   		
   	To access to the files on the local physical file system :
		[file://] absolute-path

	Where absolute-path is a valid absolute file name for the local platform. UNC names are supported under Windows.
	
	Examples :
   		file:///home/someuser/somedir
  	 	file:///C:/Documents and Settings
  		file://///somehost/someshare/afile.txt
  		/home/someuser/somedir
  		c:\program files\some dir
  		c:/program files/some dir
   		     		
	You can also encode a username and password within a url:
   		ftp://user:password@host/path
   		sftp://user:password@host/path
   		
   	You can also set a username and password by using the parameters user and pwd.
   		
   	To pass through a proxy, you can use the user parameter :
   	
   	Example:
   		Uri: ftp://my.proxy.com/directory/file
   		User: "username@my.ftp.com"
   		Pwd: "userpwd"
 	  		
	]]>
	</Abstract>
	<InputParameters>
	
		&requestIdInputParametersOptional;

		
		<ComplexInput minOccurs="0" maxOccurs="1">
			<Identifier>from</Identifier>
			<Title>Source uri</Title>	
			<Abstract>
			</Abstract>
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultFormat mimeType="text/plain" encoding="UTF-8" />
		</ComplexInput>
		
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>userFrom</Identifier>
			<Title>User identity (optional)</Title>			
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultFormat mimeType="text/plain" encoding="UTF-8" />
		</LiteralInput>
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>pwdFrom</Identifier>
			<Title>User password (optional)</Title>			
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultFormat mimeType="text/plain" encoding="UTF-8" />
		</LiteralInput>
		<ComplexInput>
			<Identifier>to</Identifier>
			<Title>Destination uri</Title>			
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultFormat mimeType="text/plain" encoding="UTF-8" />
		</ComplexInput>
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>userTo</Identifier>
			<Title>User identity (optional)</Title>			
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultFormat mimeType="text/plain" encoding="UTF-8" />
		</LiteralInput>
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>pwdTo</Identifier>
			<Title>User password (optional)</Title>			
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultFormat mimeType="text/plain" encoding="UTF-8" />
		</LiteralInput>
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>remove</Identifier>
			<Title>Remove the source after transfer.</Title>
			<Abstract><![CDATA[A flag to point out if the source data have to be deleted after transfer.
			Default value if false.
			]]>
			</Abstract>			
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#boolean">boolean</DataType>
			<DefaultValue>false</DefaultValue>		
		</LiteralInput>		
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>rename</Identifier>
			<Title>Keep the destination file name</Title>
			<Abstract><![CDATA[A flag to keep the same file name: destination file has the same name than source file.
			If true: the destination uri doesn't contain the file name (only directories).
			If false: the destination uri contains the file name.
			Default value if false.
			]]>
			</Abstract>			
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#boolean">boolean</DataType>
			<DefaultValue>false</DefaultValue>		
		</LiteralInput>		
	</InputParameters>

	<OutputParameters>
		&commonBasicOutputParameters;
	</OutputParameters>
</ProcessDefinition>
