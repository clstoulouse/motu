<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE include [
<!ENTITY commonBasicInputParameters SYSTEM "../include/CommonBasicInputParameters.xml">
<!ENTITY commonBasicOutputParameters SYSTEM "../include/CommonBasicOutputParameters.xml">
<!ENTITY timeCoverageInputParameters SYSTEM "../include/TimeCoverageInputParameters.xml">
<!ENTITY variableInputParameters SYSTEM "../include/VariableInputParameters.xml">
<!ENTITY geoBBoxInputParameters SYSTEM "../include/GeoBBoxInputParameters.xml">
<!ENTITY depthInputParameters SYSTEM "../include/DepthInputParameters.xml">
<!ENTITY dataFormatInputParameters SYSTEM "../include/DataFormatInputParameters.xml">
<!ENTITY requestIdOutputParameters SYSTEM "../include/RequestIdOutputParameters.xml">
<!ENTITY statusResponseOutputParameters SYSTEM "../include/StatusResponseOutputParameters.xml">
]>
<ProcessDefinition configVersion="0.1.0"
	processVersion="1.0.0" statusSupported="false" storeSupported="false"
	xmlns="http://www.deegree.org/services/wps" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.deegree.org/services/wps http://schemas.deegree.org/wps/0.1.0/process_definition.xsd">
	
	<Identifier>ExtractData</Identifier>
	<JavaClass>fr.cls.atoll.motu.processor.wps.ProductExtractionProcess</JavaClass>
	<Title>Process for data extraction from a product.</Title>
	<Abstract><![CDATA[The purpose of this process is to extract data from a product.
	A product is identified either by the Service name and Product name input parameters or by the url of the product (Data input parameter)
	Extraction criteria can be specified: geographical coverage, time coverage, depth coverage. They are optional.
	Variable names to extract have to be set as input parameters.
	The return values are the status of the request (pending, in progress, done, error), the request identifer and the return process code (ok or error code) and the correponding message)]]>
	</Abstract>
	<InputParameters>
	
		&commonBasicInputParameters;
		&timeCoverageInputParameters;		
		&variableInputParameters;		
		&geoBBoxInputParameters;
		&depthInputParameters;
		&dataFormatInputParameters;

		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>priority</Identifier>
			<Title>Priority of the request</Title>
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#integer">integer</DataType>
			<DefaultValue>2</DefaultValue>
		</LiteralInput>
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>login</Identifier>
			<Title>login of the user</Title>
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
		</LiteralInput>
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>batch</Identifier>
			<Title>flag to process as batch or not</Title>
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultValue>false</DefaultValue>		
		</LiteralInput>
		<LiteralInput minOccurs="0" maxOccurs="1">
			<Identifier>isanonymous</Identifier>
			<Title>flag to process user as an anonymoys one or not</Title>
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<DefaultValue>true</DefaultValue>		
		</LiteralInput>
		<!-- 
		<LiteralInput>
			<Identifier>mode</Identifier>
			<Title>use this parameter to set the response mode</Title>
			<DataType reference="http://www.w3.org/TR/xmlschema-2/#string">string</DataType>
			<AllowedValues>status</AllowedValues>
			<AllowedValues>url</AllowedValues>
			<DefaultValue>status</DefaultValue>		
		</LiteralInput>
		 -->

	</InputParameters>

	<OutputParameters>
		
		&requestIdOutputParameters;
		&statusResponseOutputParameters;
		&commonBasicOutputParameters;

	</OutputParameters>
</ProcessDefinition>
