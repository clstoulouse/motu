<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>sltac-download-misgw.pl - Download SL-TAC products via the MIS-Gateway</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css" media="screen, print">
<!--
body {
    color: black;
    font-family: arial,sans-serif;
    margin: 0;
    padding: 1ex;
}
pre {
    background: #eeeeee;
    border: 1px solid #888888;
    color: black;
    padding: 1em;
    white-space: pre-wrap;
}
h1 {
  background: transparent;
  color: #006699;
  font-size: large;
}
a:link, a:visited {
  background: transparent;
  color: #006699;
}
-->
</style>
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#algorithm">ALGORITHM</a></li>
	<li><a href="#xml_configuration_file">XML CONFIGURATION FILE</a></li>
	<li><a href="#installation">INSTALLATION</a></li>
	<li><a href="#usage">USAGE</a></li>
	<li><a href="#required_modules">REQUIRED MODULES</a></li>
	<li><a href="#bugs_and_questions">BUGS AND QUESTIONS</a></li>
	<li><a href="#license">LICENSE</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
</div>
<!-- INDEX END -->

<h1><a name="name">NAME</a></h1>
<p>sltac_down.py - Download SL-TAC products via the MIS-Gateway</p>
<p>
</p>
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>This program can be integrated into a processing chain in order to automate the
downloading of SL-TAC products via the MIS-Gateway.</p>
<p>
</p>
<h1><a name="algorithm">ALGORITHM</a></h1>
<p>The communication algorithm with the MIS-Gateway is the following:</p>
<ul>
<li>
<p>The program builds a URL based on parameters provided by the user to download
the requested product.</p>
</li>
<li>
<p>The program sends the URL built to the MIS-Gateway.</p>
</li>
<li>
<p>The MIS-Gateway sends a new URL to perform the authentication server via a 
&quot;Central Authentication Service&quot; (CAS).</p>
</li>
<li>
<p>The program posts a new URL to get a &quot;Ticket Granting Ticket&quot; (TGT) to download
the requested product.</p>
</li>
<li>
<p>The CAS server sends the ticket.</p>
</li>
<li>
<p>The program sends the query joined with ticket obtained above and download
the requested product.</p>
</li>
</ul>
<p>
</p>
<h1><a name="configuration_file">CONFIGURATION FILE</a></h1>
<p>The program parameters are contained in an INI file. This file is located in the
directory:</p>
<ul>
<li>
<p>&quot;$HOME/.py_sltac_gateway&quot; on Unix platforms.</p>
</li>
<li>
<p>&quot;%USERPROFILE%\.py_sltac_gateway&quot; on Windows platforms.</p>
</li>
</ul>
<p>This file should be read-only if it contains the password use to authenticate
to the CAS server.</p>
<p>The expected configuration is:</p>
<pre>
		[Main]
		user=john
		pwd=secret
		verbose=False
		gateway=http://web-qt.cls.fr/sltac-gateway-servlet
		service=SL-CLS-TOULOUSE-FR-MOTU-REST
		product=dataset-duacs-nrt-blacksea-en-sla-l3
		out_dir=./out_dir
		date_min=2010-09-01
		date_max=2010-09-28
</pre><p>
</p>
<h1><a name="installation">INSTALLATION</a></h1>
<p>Copy the script in the directory of your choice. Create a configuration file
(see <a href="#configuration_file">CONFIGURATION FILE</a>) to inform the user and password to use to
connect to the CAS server.</p>
<p>Installing Perl modules which are not provided in the standard installation of
Perl. The list of modules to be installed is described in section
<a href="#required_modules">REQUIRED MODULES</a>.</p>
<p>
</p>
<h1><a name="usage">USAGE</a></h1>
<pre>
		./sltac_down.py -h
		Usage: ./sltac_down.py [options]
		
		Options:
		  -h, --help            show this help message and exit
		  -z, --uncompress      If true, data will be uncompressed
		  --verbose             print information in stdout
		  -u USER, --user=USER  the user name
		  -p PWD, --pwd=PWD     the user password
		  -g GATEWAY, --gateway=GATEWAY
		                        the gateway to use
		  -s SERVICE, --service=SERVICE
		                        The service name
		  -t DATE_MIN, --date-min=DATE_MIN
		                        The min date (YYYY-MM-DD)
		  -T DATE_MAX, --date-max=DATE_MAX
		                        The max date (YYYY-MM-DD)
		  -d PRODUCT, --product=PRODUCT
		                        The product (data set) to download
		  -o OUT_DIR, --out=OUT_DIR
		                        The output dir
</pre>			                        
<p>
</p>
<h1><a name="required_modules">REQUIRED MODULES</a></h1>
<p>No module required</p>
<h1><a name="bugs_and_questions">BUGS AND QUESTIONS</a></h1>
<p>Please refer to the documentation for information on submitting bug reports or
questions to the author.</p>
<p>
</p>
<h1><a name="license">LICENSE</a></h1>
<p>This script is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.</p>
<p>
</p>
<h1><a name="author">AUTHOR</a></h1>
<p>AVISO (<a href="mailto:aviso@cls.fr">aviso@cls.fr</a>)</p>

</body>

</html>
