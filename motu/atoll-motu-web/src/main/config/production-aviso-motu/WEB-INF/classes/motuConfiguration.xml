<?xml version="1.0" encoding="UTF-8"?>
<!--
	urlSite="http://rdp2-jaune.cls.fr:8380/thredds/dodsC"
	urlSite="http://opendap.mercator-ocean.fr/thredds/dodsC"
	urlSite="http://opendap-dt.aviso.oceanobs.com/thredds/dodsC"
	urlSite="http://opendap-nrt.aviso.oceanobs.com/thredds/dodsC"
	http://opendap-dev.cls.fr:8280/thredds/dodsC/catalogConfig.xml
-->
<!-- defaultService :
	The service name when no service are specified.
-->
<!-- useAuthentication
	True if users have to be authenticated, false otherwise.
	Default value is false.
-->
<!-- useProxy :
	True if a proxy is used between Motu and the opendaps, false otherwise.
	Default value is false.
-->
<!-- proxyLogin :
	Login to connect to the proxy
-->
<!-- proxyPwd :
	Password to connect to the proxy
-->
<!-- proxyHost :
	Name of the proxy. Ignored if useProxy is false.
	Default value is proxy.cls.fr).
-->
<!-- proxyPort :
	Name of the proxy. Ignored if useProxy is false.
	Default value is 8080).
-->
<!-- dataBlockSize :
	The number for data in Ko that can be read in the same time.
-->
<!-- maxSizePerFile :
	The number for data in Megabytes that can be written and download 
	for a Netcdf file.
-->
<!-- extractionPath :
	The absolute path where to extract (write) files.
-->
<!-- downloadHttpUrl :
	Http virtual path corresponding to the attribute <extractionPath>.
-->
<!-- httpDocumentRoot :
	Document root of the servlet server.
-->
<!--
	cleanRequestInterval  
	default="60"
	The waiting period admitted to keep the status
	response of an extraction data request. Value is
	stated in minutes.
	minInclusive value="1"
-->
<!--
	cleanExtractionFileInterval
	default="60"
	The waiting period admitted to keep the file
	that results of an extraction data request.
	Value is stated in minutes.
	minInclusive value="1"
-->
<!--
	extractionFilePatterns 
	default=".*\.nc$|.*\.zip$|.*\.tar$|.*\.gz$">
	Patterns (as regular expression) that match
	extraction file to delete.
-->
<!--
	extractionFileCacheSize 
	default="0"
	The maximum value allowed to the cache during
	extraction. Beyond this value, the older
	extracted files are quite frequently deleted
	until the maximum value is raised. The frequency
	corresponds to the runCleanInterval attribute.
	Value is stated in mega-bytes (Mo). Value must
	be positive or zero. If value is zero: no
	delete.
	minInclusive value="0"
-->
<!--
	runCleanInterval 
	default="1"
	The interval period to run clean request and
	extraction file. Value is stated in minutes.
	minInclusive value="1"
-->
<!--
	runGCInterval 
	default="0"
	The interval period to force run garbage
	collector Value is stated in minutes and must
	bue positive or zero. If value is zero: no
	force.
	minInclusive value="0"
	
-->
<motuConfig dataBlockSize="204800" defaultService="avisoNRT"
	downloadHttpUrl="http://aviso-motu.cls.fr/atoll-motuservlet-downloads"
	extractionPath="/home/mapserv/html/atoll-motuservlet-downloads"
	httpDocumentRoot="http://aviso-motu.cls.fr" maxSizePerFile="512"
	useProxy="false" 
	cleanExtractionFileInterval="60"
	cleanRequestInterval="60"
	runCleanInterval="1"
	extractionFilePatterns=".*\.nc$|.*\.zip$|.*\.tar$|.*\.gz$|.*\.extract$"
	extractionFileCacheSize="20480"	
	runGCInterval="10">
	
	<!--===========================================-->
	<!--                     Aviso RT TDS        		-->
	<!--===========================================-->
	<configService defaultLanguage="UK"
		description="Aviso Real Time"
		group="AvisoRT" httpBaseRef="http://www.aviso.oceanobs.com"
		name="AvisoRT" veloTemplatePrefix="aviso">
		<catalog name="catalog.xml" type="tds"
			urlSite="http://aviso-opendap.cls.fr:8280/thredds" />
	</configService>

	<!--===========================================-->
	<!--                     Aviso TDS        		-->
	<!--===========================================-->
	<configService defaultLanguage="UK"
		description="Aviso Near Real Time and Delayed Time data"
		group="AvisoAll" httpBaseRef="http://www.aviso.oceanobs.com"
		name="Aviso" veloTemplatePrefix="aviso">
		<catalog name="catalog.xml" type="tds"
			urlSite="http://opendap.aviso.oceanobs.com/thredds" />
	</configService>
	<!--=====================   Aviso TDS  NRT  =================-->
	<configService defaultLanguage="UK"
		description="Near Real Time data" group="Aviso"
		defaultGroupService="true" httpBaseRef="http://www.aviso.oceanobs.com"
		name="AvisoNRT" veloTemplatePrefix="aviso">
		<catalog name="nrt.xml" type="tds"
			urlSite="http://opendap.aviso.oceanobs.com/thredds/nrt" />
	</configService>

	<!--=====================   Aviso TDS  DT  ===================-->
	<configService defaultLanguage="UK" description="Delayed Time data"
		group="Aviso" httpBaseRef="http://www.aviso.oceanobs.com"
		name="AvisoDT" veloTemplatePrefix="aviso">
		<catalog name="dt.xml" type="tds"
			urlSite="http://opendap.aviso.oceanobs.com/thredds/dt" />
	</configService>
	<!--=====================   ALIAS Aviso TDS  NRT  =================-->
	<!--
	<configService defaultLanguage="UK"
		description="Near Real Time data" group="AvisoTDSAlias"
		httpBaseRef="http://www.aviso.oceanobs.com" name="aviso_nrt"
		veloTemplatePrefix="aviso">
		<catalog name="nrt.xml" type="tds"
			urlSite="http://opendap.aviso.oceanobs.com/thredds/nrt" />
	</configService>

	-->
	<!--=====================   ALIAS Aviso TDS  DT  ===================-->
	<!--
	<configService defaultLanguage="UK" description="Delayed Time data"
		group="AvisoTDSAlias" httpBaseRef="http://www.aviso.oceanobs.com"
		name="Aviso_dt" veloTemplatePrefix="aviso">
		<catalog name="dt.xml" type="tds"
			urlSite="http://opendap.aviso.oceanobs.com/thredds/dt" />
	</configService>

	-->
	<!-- ==========================  -->
	<!-- Queue server configuration  -->
	<!-- ==========================  -->

	<!-- ..........................................
		queueServerConfig 	Queue Server Settings
		................................................. -->
	<!--
		defaultPriority
		The default priority
		default="2"
		minInclusive value="1"		
	-->
	<!--
		maxPoolAnonymous
		default="10"
		The maximum requests number allowed for a same
		anonymous user. A negative or zero value means
		'unlimited'
		minInclusive value="-1"
	-->
	<!--
		maxPoolAuth 
		default="1"
		The maximum requests number allowed for a same
		authenticated user. A negative or zero value means
		'unlimited'
		minInclusive value="-1"
	-->

	<!-- ..........................................
		queues  Queue Settings
		min : 1 max : unbounded
		................................................. -->

	<!--
		maxPoolSize" 
		The maximum requests number allowed in the queue
		(requests that have been shelved or are in
		progress in the queue). A negative or zero value
		means 'unlimited'
		default="-1"
		minInclusive value="-1"
	-->
	<!--
		maxThreads
		The maximum simultaneous number of requests
		(threads) the queue have to process..
		default="1"
		minInclusive value="1"
		maxInclusive value="10"
	-->
	<!--
		dataThreshold
		Amount of extracted data this queue stands for.
		Requests those amount of extracted data is
		beyond this value (in MegaBytes) are not stored
		in this queue.
		minInclusive value="1.0"
	-->
	<!--
		lowPriorityWaiting
		The waiting period admitted to the low priority
		requests. Beyond this period, low requests have
		high priority. Value is stated in minutes.
		minInclusive value="1"
		maxInclusive value="15"
		
	-->
	<!--
		id 
		queue id (required).
	-->
	<!--
		description
		queue description 		
	-->
	<!--
		batch 
		Is it a batch que or not ?
		Batch queue are used to undegrounded job.
		default="false"
	-->

	<queueServerConfig maxPoolAnonymous="10" maxPoolAuth="1"
		defaultPriority="2">

		<queues id="queue1" description="light queue" batch="false">
			<maxThreads>2</maxThreads>
			<maxPoolSize>10</maxPoolSize>
			<dataThreshold>75.0</dataThreshold>
			<lowPriorityWaiting>1</lowPriorityWaiting>
		</queues>

		<queues id="queue2" description="bulk queue" batch="false">
			<maxThreads>1</maxThreads>
			<maxPoolSize>10</maxPoolSize>
			<dataThreshold>512</dataThreshold>
			<lowPriorityWaiting>2</lowPriorityWaiting>
		</queues>

		<queues id="queue3" description="batch light queue"
			batch="true">
			<maxThreads>1</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>75.0</dataThreshold>
			<lowPriorityWaiting>1</lowPriorityWaiting>
		</queues>

		<queues id="queue4" description="batch bulk queue"
			batch="true">
			<maxThreads>1</maxThreads>
			<maxPoolSize>-1</maxPoolSize>
			<dataThreshold>512</dataThreshold>
			<lowPriorityWaiting>2</lowPriorityWaiting>
		</queues>

	</queueServerConfig>
	
</motuConfig>
