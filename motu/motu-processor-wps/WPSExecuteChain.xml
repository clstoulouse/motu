<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns2:Execute language="en" version="1.0.0" service="WPS" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd" xmlns:ns2="http://www.opengis.net/wps/1.0.0" xmlns:ns1="http://www.opengis.net/ows/1.1" xmlns:ns3="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ns1:Identifier>GetExtractedProductUrl</ns1:Identifier>
    <ns2:DataInputs>
        <ns2:Input>
            <ns1:Identifier>requestid</ns1:Identifier>
            <ns1:Title>The unique id of the request</ns1:Title>
            <ns2:Reference encoding="UTF-8" method="POST" ns3:href="http://atoll-dev.cls.fr:30080/atoll-motuservlet/services">
                <ns2:Body>
                    <ns2:Execute language="en" service="WPS" version="1.0.0">
                        <ns1:Identifier>CompressExtraction</ns1:Identifier>
                        <ns2:DataInputs>
                            <ns2:Input>
                                <ns1:Identifier>requestid</ns1:Identifier>
                                <ns1:Title>The unique id of the request</ns1:Title>
                                <ns2:Reference encoding="UTF-8" method="POST" ns3:href="http://atoll-dev.cls.fr:30080/atoll-motuservlet/services">
                                    <ns2:Body>
                                        <ns2:Execute language="en" service="WPS" version="1.0.0">
                                            <ns1:Identifier>ExtractData</ns1:Identifier>
                                            <ns2:DataInputs>
                                                <ns2:Input>
                                                    <ns1:Identifier>service</ns1:Identifier>
                                                    <ns1:Title>Name of the Motu service</ns1:Title>
                                                    <ns1:Abstract>This parameter specifies the name of the Motu service as described in the Motu configuration</ns1:Abstract>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="string">mercator</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>product</ns1:Identifier>
                                                    <ns1:Title>The product identifier (name)</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="string">mercatorPsy3v2_nat_mean_best_estimate</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>starttime</ns1:Identifier>
                                                    <ns1:Title>The start coverage datetime</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="datetime">2009-04-27T10:00:00.000+02:00</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>endtime</ns1:Identifier>
                                                    <ns1:Title>The end coverage datetime</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="datetime">2009-04-28T00:00:00.000+02:00</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>variable</ns1:Identifier>
                                                    <ns1:Title>Name or identifier of the data</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="string">temperature</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>variable</ns1:Identifier>
                                                    <ns1:Title>Name or identifier of the data</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="string">u</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>variable</ns1:Identifier>
                                                    <ns1:Title>Name or identifier of the data</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="string">v</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>geobbox</ns1:Identifier>
                                                    <ns1:Title>The Latitude/Longitude bounding box</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:BoundingBoxData>
                                                            <ns1:LowerCorner>10.0 -60.0</ns1:LowerCorner>
                                                            <ns1:UpperCorner>45.0 120.0</ns1:UpperCorner>
                                                        </ns2:BoundingBoxData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>lowdepth</ns1:Identifier>
                                                    <ns1:Title>The lower depth (z)</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="string">surface</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                                <ns2:Input>
                                                    <ns1:Identifier>highdepth</ns1:Identifier>
                                                    <ns1:Title>The higher depth (z)</ns1:Title>
                                                    <ns2:Data>
                                                        <ns2:LiteralData dataType="string">150</ns2:LiteralData>
                                                    </ns2:Data>
                                                </ns2:Input>
                                            </ns2:DataInputs>
                                            <ns2:ResponseForm>
                                                <ns2:RawDataOutput>
                                                    <ns1:Identifier>requestid</ns1:Identifier>
                                                </ns2:RawDataOutput>
                                            </ns2:ResponseForm>
                                        </ns2:Execute>
                                    </ns2:Body>
                                </ns2:Reference>
                            </ns2:Input>
                        </ns2:DataInputs>
                        <ns2:ResponseForm>
                            <ns2:RawDataOutput>
                                <ns1:Identifier>requestid</ns1:Identifier>
                            </ns2:RawDataOutput>
                        </ns2:ResponseForm>
                    </ns2:Execute>
                </ns2:Body>
            </ns2:Reference>
        </ns2:Input>
    </ns2:DataInputs>
    <ns2:ResponseForm>
        <ns2:ResponseDocument status="false" lineage="false" storeExecuteResponse="true">
            <ns2:Output>
                <ns1:Identifier>url</ns1:Identifier>
                <ns1:Title>Remote data url</ns1:Title>
            </ns2:Output>
            <ns2:Output>
                <ns1:Identifier>localUrl</ns1:Identifier>
                <ns1:Title>Local data url</ns1:Title>
            </ns2:Output>
            <ns2:Output>
                <ns1:Identifier>code</ns1:Identifier>
                <ns1:Title>Code returned by the process</ns1:Title>
            </ns2:Output>
            <ns2:Output>
                <ns1:Identifier>message</ns1:Identifier>
                <ns1:Title>Message returned by the process</ns1:Title>
            </ns2:Output>
        </ns2:ResponseDocument>
    </ns2:ResponseForm>
</ns2:Execute>
